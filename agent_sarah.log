2025-08-05 00:42:52,790 - [36mDEBUG[0m asyncio - Using selector: KqueueSelector [90m[0m
2025-08-05 00:42:52,791 - [35mDEV [0m livekit.agents - Watching /Users/ayushkumar/Downloads/Saarthi/outbound-caller-python/outbound-caller-python [90m[0m
2025-08-05 00:42:54,057 - [36mDEBUG[0m asyncio - Using selector: KqueueSelector [90m[0m
2025-08-05 00:42:54,061 - [32mINFO[0m livekit.agents - starting worker [90m{"version": "1.2.2", "rtc-version": "1.0.12"}[0m
2025-08-05 00:42:54,061 - [32mINFO[0m livekit.agents - starting inference executor [90m[0m
2025-08-05 00:42:54,068 - [32mINFO[0m livekit.agents - initializing process [90m{"pid": 73450, "inference": true}[0m
2025-08-05 00:42:54,801 - [36mDEBUG[0m livekit.agents - initializing inference runner [90m{"runner": "lk_end_of_utterance_en", "pid": 73450, "inference": true}[0m
None of PyTorch, TensorFlow >= 2.0, or Flax have been found. Models won't be available and only tokenizers, configuration and file/data utilities can be used.
2025-08-05 00:42:55,947 - [36mDEBUG[0m livekit.agents - inference runner initialized [90m{"runner": "lk_end_of_utterance_en", "elapsed_time": 1.145367040997371, "pid": 73450, "inference": true}[0m
2025-08-05 00:42:55,947 - [36mDEBUG[0m asyncio - Using selector: KqueueSelector [90m{"pid": 73450, "inference": true}[0m
2025-08-05 00:42:55,949 - [32mINFO[0m livekit.agents - process initialized [90m{"pid": 73450, "inference": true, "elapsed_time": 1.88}[0m
2025-08-05 00:42:56,114 - [32mINFO[0m livekit.agents - registered worker [90m{"id": "AW_Mpmg82vQ6pZJ", "url": "wss://voice-ai-project-qxvy2kj1.livekit.cloud", "region": "India", "protocol": 16}[0m
2025-08-05 00:49:50,703 - [32mINFO[0m livekit.agents - received job request [90m{"job_id": "AJ_Y5FzVsLDsTkk", "dispatch_id": "", "room_name": "room-8fWTkj2VY3v4", "agent_name": "outbound-caller-local", "resuming": false}[0m
2025-08-05 00:49:50,751 - [32mINFO[0m livekit.agents - initializing process [90m{"pid": 74505}[0m
2025-08-05 00:49:52,283 - [36mDEBUG[0m asyncio - Using selector: KqueueSelector [90m{"pid": 74505}[0m
2025-08-05 00:49:52,287 - [32mINFO[0m livekit.agents - process initialized [90m{"pid": 74505, "elapsed_time": 1.53}[0m
2025-08-05 00:49:52,291 - [32mINFO[0m outbound-caller - [TIMING] Starting entrypoint for room room-8fWTkj2VY3v4 [90m{"pid": 74505, "job_id": "AJ_Y5FzVsLDsTkk"}[0m
2025-08-05 00:49:52,291 - [32mINFO[0m outbound-caller - connecting to room room-8fWTkj2VY3v4 [90m{"pid": 74505, "job_id": "AJ_Y5FzVsLDsTkk"}[0m
2025-08-05 00:49:52,986 - [32mINFO[0m outbound-caller - [TIMING] Room connection: 0.694s [90m{"pid": 74505, "job_id": "AJ_Y5FzVsLDsTkk"}[0m
2025-08-05 00:49:52,987 - [32mINFO[0m outbound-caller - [TIMING] Agent creation: 0.000s [90m{"pid": 74505, "job_id": "AJ_Y5FzVsLDsTkk"}[0m
2025-08-05 00:49:52,987 - [32mINFO[0m outbound-caller - [TIMING] Session creation: 0.000s [90m{"pid": 74505, "job_id": "AJ_Y5FzVsLDsTkk"}[0m
2025-08-05 00:49:52,987 - [32mINFO[0m outbound-caller - [TIMING] Starting SIP dial to +918586081540 [90m{"pid": 74505, "job_id": "AJ_Y5FzVsLDsTkk"}[0m
2025-08-05 00:49:52,987 - [36mDEBUG[0m livekit.agents - http_session(): creating a new httpclient ctx [90m{"pid": 74505, "job_id": "AJ_Y5FzVsLDsTkk"}[0m
2025-08-05 00:49:53,013 - [36mDEBUG[0m livekit.agents - using audio io: `RoomIO` -> `AgentSession` -> `TranscriptSynchronizer` -> `RoomIO` [90m{"pid": 74505, "job_id": "AJ_Y5FzVsLDsTkk"}[0m
2025-08-05 00:49:53,013 - [36mDEBUG[0m livekit.agents - using transcript io: `AgentSession` -> `TranscriptSynchronizer` -> `RoomIO` [90m{"pid": 74505, "job_id": "AJ_Y5FzVsLDsTkk"}[0m
2025-08-05 00:49:53,770 - [36mDEBUG[0m livekit.agents - start reading stream [90m{"participant": "+918586081540", "source": "SOURCE_MICROPHONE", "pid": 74505, "job_id": "AJ_Y5FzVsLDsTkk"}[0m
2025-08-05 00:50:00,548 - [32mINFO[0m outbound-caller - [TIMING] SIP dial completed: 7.561s [90m{"pid": 74505, "job_id": "AJ_Y5FzVsLDsTkk"}[0m
2025-08-05 00:50:00,549 - [32mINFO[0m outbound-caller - participant joined: +918586081540 [90m{"pid": 74505, "job_id": "AJ_Y5FzVsLDsTkk"}[0m
2025-08-05 00:50:00,549 - [32mINFO[0m outbound-caller - [TIMING] Total connection time: 8.258s [90m{"pid": 74505, "job_id": "AJ_Y5FzVsLDsTkk"}[0m
2025-08-05 00:50:00,549 - [32mINFO[0m outbound-caller - [TIMING BREAKDOWN] Room: 0.694s, Agent: 0.000s, Session: 0.000s, SIP: 7.561s [90m{"pid": 74505, "job_id": "AJ_Y5FzVsLDsTkk"}[0m
2025-08-05 00:51:14,999 - [36mDEBUG[0m livekit.plugins.openai - OpenAI Realtime API response done but not complete with status: cancelled [90m{"event_id": "resp_C0v2AwQFSQysfn8xxFWEc", "event_response_status": "cancelled", "pid": 74505, "job_id": "AJ_Y5FzVsLDsTkk"}[0m
2025-08-05 00:51:15,525 - [36mDEBUG[0m livekit.plugins.openai - OpenAI Realtime API response done but not complete with status: cancelled [90m{"event_id": "resp_C0v2BEcBMMRWunMwzFbu3", "event_response_status": "cancelled", "pid": 74505, "job_id": "AJ_Y5FzVsLDsTkk"}[0m
2025-08-05 00:51:28,471 - [36mDEBUG[0m livekit.plugins.openai - OpenAI Realtime API response done but not complete with status: cancelled [90m{"event_id": "resp_C0v2NQ7blnHbIc0dP6OlO", "event_response_status": "cancelled", "pid": 74505, "job_id": "AJ_Y5FzVsLDsTkk"}[0m
2025-08-05 00:51:29,319 - [36mDEBUG[0m livekit.plugins.openai - OpenAI Realtime API response done but not complete with status: cancelled [90m{"event_id": "resp_C0v2PsKqyQU0pY08W4yQD", "event_response_status": "cancelled", "pid": 74505, "job_id": "AJ_Y5FzVsLDsTkk"}[0m
2025-08-05 00:51:46,388 - [36mDEBUG[0m livekit.plugins.openai - OpenAI Realtime API response done but not complete with status: cancelled [90m{"event_id": "resp_C0v2gKLEDcySi4Ev5IpwW", "event_response_status": "cancelled", "pid": 74505, "job_id": "AJ_Y5FzVsLDsTkk"}[0m
2025-08-05 00:51:49,077 - [36mDEBUG[0m livekit.plugins.openai - OpenAI Realtime API response done but not complete with status: cancelled [90m{"event_id": "resp_C0v2hIBVs3Ubu6SdAFi8s", "event_response_status": "cancelled", "pid": 74505, "job_id": "AJ_Y5FzVsLDsTkk"}[0m
2025-08-05 00:51:52,491 - [36mDEBUG[0m livekit.plugins.openai - OpenAI Realtime API response done but not complete with status: cancelled [90m{"event_id": "resp_C0v2kuOvU84g68O6Nbme3", "event_response_status": "cancelled", "pid": 74505, "job_id": "AJ_Y5FzVsLDsTkk"}[0m
2025-08-05 00:51:54,502 - [36mDEBUG[0m livekit.plugins.openai - OpenAI Realtime API response done but not complete with status: cancelled [90m{"event_id": "resp_C0v2ng3SjcLnlwRYpC32g", "event_response_status": "cancelled", "pid": 74505, "job_id": "AJ_Y5FzVsLDsTkk"}[0m
2025-08-05 00:52:01,213 - [36mDEBUG[0m livekit.plugins.openai - OpenAI Realtime API response done but not complete with status: cancelled [90m{"event_id": "resp_C0v2ub16cDTapR7kvtDVX", "event_response_status": "cancelled", "pid": 74505, "job_id": "AJ_Y5FzVsLDsTkk"}[0m
2025-08-05 00:52:20,107 - [36mDEBUG[0m livekit.plugins.openai - OpenAI Realtime API response done but not complete with status: cancelled [90m{"event_id": "resp_C0v3Dd92yXJE9KGLmqrIZ", "event_response_status": "cancelled", "pid": 74505, "job_id": "AJ_Y5FzVsLDsTkk"}[0m
2025-08-05 00:52:20,966 - [36mDEBUG[0m livekit.plugins.openai - OpenAI Realtime API response done but not complete with status: cancelled [90m{"event_id": "resp_C0v3E1K03d1oWzGEw99Si", "event_response_status": "cancelled", "pid": 74505, "job_id": "AJ_Y5FzVsLDsTkk"}[0m
2025-08-05 00:52:40,635 - [36mDEBUG[0m livekit.plugins.openai - OpenAI Realtime API response done but not complete with status: cancelled [90m{"event_id": "resp_C0v3YUTBxKSSwqLFnxbjE", "event_response_status": "cancelled", "pid": 74505, "job_id": "AJ_Y5FzVsLDsTkk"}[0m
2025-08-05 00:52:58,468 - [36mDEBUG[0m livekit.plugins.openai - OpenAI Realtime API response done but not complete with status: cancelled [90m{"event_id": "resp_C0v3pOYRE5TzQhKWQx0zU", "event_response_status": "cancelled", "pid": 74505, "job_id": "AJ_Y5FzVsLDsTkk"}[0m
2025-08-05 00:53:00,546 - [32mINFO[0m outbound-caller - Call reached 180 second limit, hanging up [90m{"pid": 74505, "job_id": "AJ_Y5FzVsLDsTkk"}[0m
2025-08-05 00:53:00,682 - [36mDEBUG[0m livekit.agents - executing tool [90m{"function": "schedule_followup", "arguments": "{\"date\":\"2025-08-05\",\"amount\":750.0}", "speech_id": "speech_99a02cbb5ff6", "pid": 74505, "job_id": "AJ_Y5FzVsLDsTkk"}[0m
2025-08-05 00:53:00,683 - [32mINFO[0m outbound-caller - scheduling followup with +918586081540 on 2025-08-05 for $750.0 [90m{"pid": 74505, "job_id": "AJ_Y5FzVsLDsTkk"}[0m
2025-08-05 00:53:00,684 - [36mDEBUG[0m livekit.agents - tools execution completed [90m{"speech_id": "speech_99a02cbb5ff6", "pid": 74505, "job_id": "AJ_Y5FzVsLDsTkk"}[0m
2025-08-05 00:53:01,141 - [33mWARNING[0m livekit - livekit::rtc_engine:453:livekit::rtc_engine - received session close: "signal client closed: \"stream closed\"" UnknownReason Resume [90m{"pid": 74505, "job_id": "AJ_Y5FzVsLDsTkk"}[0m
2025-08-05 00:53:01,144 - [32mINFO[0m livekit.agents - process exiting [90m{"reason": "", "pid": 74505, "job_id": "AJ_Y5FzVsLDsTkk"}[0m
2025-08-05 00:53:01,143 - [36mDEBUG[0m livekit.agents - shutting down job task [90m{"reason": "", "user_initiated": false, "pid": 74505, "job_id": "AJ_Y5FzVsLDsTkk"}[0m
2025-08-05 00:53:01,145 - [36mDEBUG[0m livekit.agents - stream closed [90m{"participant": "+918586081540", "source": "SOURCE_MICROPHONE", "pid": 74505, "job_id": "AJ_Y5FzVsLDsTkk"}[0m
2025-08-05 00:53:01,302 - [36mDEBUG[0m livekit.agents - session closed [90m{"reason": "job_shutdown", "error": null, "pid": 74505, "job_id": "AJ_Y5FzVsLDsTkk"}[0m
2025-08-05 00:53:01,302 - [36mDEBUG[0m livekit.agents - http_session(): closing the httpclient ctx [90m{"pid": 74505, "job_id": "AJ_Y5FzVsLDsTkk"}[0m
2025-08-05 00:53:01,304 - [31mERROR[0m asyncio - Task exception was never retrieved
future: <Task finished name='Task-40' coro=<OutboundCaller._timeout_handler() done, defined at /Users/ayushkumar/Downloads/Saarthi/outbound-caller-python/outbound-caller-python/agent.py:226> exception=ServerDisconnectedError('Server disconnected')>
Traceback (most recent call last):
  File "/Users/ayushkumar/Downloads/Saarthi/outbound-caller-python/outbound-caller-python/agent.py", line 230, in _timeout_handler
    await self.hangup()
  File "/Users/ayushkumar/Downloads/Saarthi/outbound-caller-python/outbound-caller-python/agent.py", line 116, in hangup
    await job_ctx.api.room.delete_room(
  File "/Users/ayushkumar/Downloads/Saarthi/outbound-caller-python/outbound-caller-python/venv/lib/python3.11/site-packages/livekit/api/room_service.py", line 108, in delete_room
    return await self._client.request(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/ayushkumar/Downloads/Saarthi/outbound-caller-python/outbound-caller-python/venv/lib/python3.11/site-packages/livekit/api/twirp_client.py", line 121, in request
    async with self._session.post(
  File "/Users/ayushkumar/Downloads/Saarthi/outbound-caller-python/outbound-caller-python/venv/lib/python3.11/site-packages/aiohttp/client.py", line 1488, in __aenter__
    self._resp: _RetType = await self._coro
                           ^^^^^^^^^^^^^^^^
  File "/Users/ayushkumar/Downloads/Saarthi/outbound-caller-python/outbound-caller-python/venv/lib/python3.11/site-packages/aiohttp/client.py", line 770, in _request
    resp = await handler(req)
           ^^^^^^^^^^^^^^^^^^
  File "/Users/ayushkumar/Downloads/Saarthi/outbound-caller-python/outbound-caller-python/venv/lib/python3.11/site-packages/aiohttp/client.py", line 748, in _connect_and_send_request
    await resp.start(conn)
  File "/Users/ayushkumar/Downloads/Saarthi/outbound-caller-python/outbound-caller-python/venv/lib/python3.11/site-packages/aiohttp/client_reqrep.py", line 532, in start
    message, payload = await protocol.read()  # type: ignore[union-attr]
                       ^^^^^^^^^^^^^^^^^^^^^
  File "/Users/ayushkumar/Downloads/Saarthi/outbound-caller-python/outbound-caller-python/venv/lib/python3.11/site-packages/aiohttp/streams.py", line 672, in read
    await self._waiter
aiohttp.client_exceptions.ServerDisconnectedError: Server disconnected [90m{"pid": 74505, "job_id": "AJ_Y5FzVsLDsTkk"}[0m
